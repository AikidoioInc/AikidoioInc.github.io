---
layout: default
title: Game
---

<div class="row">
  <div class="small-12 columns">
    <h2>Game of the Year 2030</h2>
  </div>
</div>

<div class="row">
  <div class="small-12 columns" style="text-align:center">
    <canvas id="game" width="800" height="500" style="background-color:#bbbbbb; border-style:solid; border-width:2px; border-color:#888888;">
      <script>
      var canvas = document.getElementById('game');
      var context = canvas.getContext('2d');

      var map = new Array(1000).fill(new Array(100));
      var gridSize = 5;

      var x = (map.length * gridSize)/2;
      var y = (map[0].length * gridSize)/2;
      var radius = 10;

      var dx = 0.0;
      var dy = 0.0;

      var uPress = false;
      var dPress = false;
      var lPress = false;
      var rPress = false;

      document.addEventListener("keydown", keyDownHandler, false);
      document.addEventListener("keyup", keyUpHandler, false);

      function cycle() {
        context.clearRect(0, 0, canvas.width, canvas.height);
        drawBall();
        drawMap();
        checkBounds();
        checkCollisions();
        addInput();
        x += dx;
        y += dy;

        dy -= 0.05;
      }

      function drawBall() {
        context.beginPath();
        context.arc(x, map[0].length*gridSize-y, radius, 0, 2 * Math.PI, false);
        context.fillStyle = "#4286f4";
        context.fill();
        context.lineWidth = 2;
        context.strokeStyle = "#3460a8";
        context.stroke();
        context.closePath();
      }

      function drawMap() {
        for (var gx = 0; gx < canvas.width/gridSize; gx++) {
          for (var gy = 0; gy < canvas.height/gridSize; gy++) {
            if (map[gx][gy] == 1) {
              context.fillStyle = "#dddddd";
              context.fillRect(x+(gx*gridSize-canvas.width/2), y+(gy*gridSize-canvas.height/2), gridSize, gridSize);
            }
          }
        }
      }

      function addInput() {
        if (rPress) dx += 0.01;
        if (lPress) dx -= 0.01;
        if (uPress) dy += 0.01;
        if (dPress) dy -= 0.01;
      }

      function checkCollisions() {

      }

      function checkBounds() {
        if (x < radius/2) {
          dx *= -1;
          x = radius/2;
        } else if (x > map.length*gridSize-radius/2) {
          dx *= -1;
          x = map.length*gridSize-radius/2;
        }

        if (y - dy < 0) {
          y = map.length*gridSize - (y - dy);
        } else if (y + dy > map.length*gridSize) {
          y = 0 + (y + dy - map.length*gridSize);
        }
      }

      function generateMap() {
        for (int x = 0; x < map.length; x++) {
          map[x][0] = 1;
          map[x][map[x].length] = 1;
        }

        for (int x = 0; x < map.length; x++) {
          for (int y = 0; y < map.length; y++) {
            if (map[x-1][y] == 1) {
              if (Math.random() < 0.5) {
                map[x][y] = 1;
              }
            } else {
              if (Math.random() < 0.005) {
                map[x][y] = 1;
              }
            }
          }
        }
      }

      function keyDownHandler(e) {
        if (e.keyCode == 87) {
          uPress = true;
        } else if (e.keyCode == 83) {
          dPress = true;
        } else if (e.keyCode == 65) {
          lPress = true;
        } else if (e.keyCode == 68) {
          rPress = true;
        }
      }

      function keyUpHandler(e) {
        if (e.keyCode == 87) {
          uPress = false;
        } else if (e.keyCode == 83) {
          dPress = false;
        } else if (e.keyCode == 65) {
          lPress = false;
        } else if (e.keyCode == 68) {
          rPress = false;
        }
      }

      setInterval(cycle, 10);
      </script>
    </canvas>
  </div>
</div>

<div class="row">
  <div class="small-12 columns">
    <h6>Sorry mobile folks, no mobile support</h6>
  </div>
</div>
